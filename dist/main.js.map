{"version":3,"file":"main.js","mappings":"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","sources":["webpack://rest-countries-api-main/./src/homepage.js","webpack://rest-countries-api-main/./src/index.js","webpack://rest-countries-api-main/./src/theme.js","webpack://rest-countries-api-main/./src/style.css?e320"],"sourcesContent":["const content = document.getElementById(\"content\");\nconst searchInput = document.querySelector(\"#search\");\nlet url = 'https://restcountries.com/v3.1/all?fields=name,population,region,capital,flags';\n\nlet countries;\nexport class HomePage\n{\n    constructor()\n    {\n        this.backToTopElement({ bottom: \"3em\", right: \"2em\" });\n        this.initialize();\n    }\n    initialize()\n    {\n        document.getElementById(\"searchForm\").addEventListener(\"submit\", evt =>\n        {\n            evt.preventDefault();\n        });\n        this.getData();\n        this.searchCountry();\n        window.addEventListener(\"scroll\", () =>\n        {\n            this.displayButtonOnScroll();\n        });\n    }\n    addCards(arr)\n    {\n        arr.forEach(data =>\n        {\n            this.createCard(data);\n        });\n    }\n    createCard(data)\n    {\n        let html = `<article class=\"country_card\" id=${data.name['common'].toLowerCase()}>\n            <section>\n                <h1>${data.name['common']}</h1>\n                <p><span>population:</span> ${this.numberWithCommas(data.population)}</p>\n                <p><span>region:</span> ${data.region}</p>\n                <p><span>capital:</span> ${data.capital.join(\", \")}</p>\n            </section>\n            <figure><img src=${data.flags['png']} alt=\"${data.flags['alt']}\" loading=\"lazy\"></figure>\n        </article>`;\n        content.insertAdjacentHTML(\"beforeend\", html);\n    }\n    numberWithCommas(x)\n    {\n        return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    }\n    backToTopElement({ bottom, right })\n    {\n        const button = document.createElement(\"button\");\n        button.type = \"button\";\n        button.id = \"back_top\";\n        button.innerHTML = `<svg viewBox=\"0 0 24 24\" fill=\"currentColor\"><path class=\"cls-1\" d=\"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm4.707,9.707a1,1,0,0,1-1.414,0L13,8.414V18a1,1,0,0,1-2,0V8.414L8.707,10.707A1,1,0,1,1,7.293,9.293l4-4a1,1,0,0,1,1.414,0l4,4A1,1,0,0,1,16.707,10.707Z\"/></svg>`\n        button.style.bottom = bottom;\n        button.style.right = right;\n        button.style.display = 'none';\n\n        button.addEventListener(\"click\", this.scrollTopEvt);\n        content.insertAdjacentElement(\"beforeend\", button);\n    }\n    displayButtonOnScroll()\n    {\n        const btn = document.getElementById(\"back_top\");\n        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20)\n        {\n            btn.style.display = 'block';\n        } else\n        {\n            btn.style.display = 'none';\n        }\n    }\n    scrollTopEvt()\n    {\n        document.body.scrollTop = 0;\n        document.documentElement.scrollTop = 0;\n    }\n    async getData()\n    {\n\n        const dataPromise = await fetch(url);\n        const data = await dataPromise.json();\n        data.sort(function (a, b)\n        {\n            return a.name['common'] > b.name['common'] ? 1 : -1;\n        });\n        countries = data;\n        this.addCards(countries);\n    }\n    searchCountry()\n    {\n        \n        searchInput.addEventListener(\"keyup\", this.searchInputEvt);\n    }\n    searchInputEvt(evt)\n    {\n        evt.preventDefault();\n        const filter = searchInput.value.toLowerCase();\n        const articles = document.querySelectorAll(\"#content > article\");\n        for (let i = 0; i < articles.length; i++)\n        {\n            if (articles[i].id.toLowerCase().indexOf(filter) > -1)\n            {\n                articles[i].style.display = \"\";\n            } else\n            {\n                articles[i].style.display = \"none\";\n\n            }\n        }\n    }\n}","import * as css from './style.css'\nimport { ThemeSwitcher } from './theme';\nimport { HomePage } from './homepage';\n\nconst _ = new ThemeSwitcher();\nconst navLinks = document.querySelectorAll(\".dropdown_wrapper > a\");\n\ndocument.addEventListener(\"DOMContentLoaded\", () =>\n{\n    document.getElementById('searchForm').reset();\n    navLinks.forEach(link =>{\n        link.addEventListener(\"click\", evt =>{\n            evt.preventDefault();\n            console.log('evt.getAttribute(href) :>> ', evt.target.getAttribute('href'));\n            const clickedLink = evt.target.getAttribute('href').substring(1);\n            console.log('clickedLink :>> ', clickedLink);\n        })\n    })\n    const dropdownBtn = document.querySelector(\".dropdown_btn\");\n    const homepage = new HomePage();\n    setTimeout(() =>\n    {\n        document.querySelector(\".loading_container\").classList.add(\"hidden\");\n        document.querySelector(\".container\").classList.add('visible');\n    }, 2000);\n    window.scrollBy({ top: 20, left: 0, behavior: 'smooth' });\n    dropdownBtn.addEventListener(\"click\", function ()\n    {\n        dropdownBtn.classList.toggle(\"expanded\");\n    });\n\n\n});\n\n","/**\n* Utility function to calculate the current theme setting.\n* Look for a local storage value.\n* Fall back to system setting.\n* Fall back to light mode.\n*/\nconst darkHtml = `<img src=\"./assets/icons/moon_icon.png\" alt=\"dark button icon\"> dark mode`;\nconst lightHtml = `<img src=\"./assets/icons/sun_icon.png\" alt=\"light button icon\"> light mode`;\nconst themeBtn = document.querySelector(\"[data-theme-toggle]\");\nconst localStorageTheme = localStorage.getItem(\"theme\");\nconst systemSettingDark = window.matchMedia(\"(prefers-color-scheme: dark)\");\n\nfunction calcSettingThemeStr({ localStorageTheme, systemSettingDark })\n{\n    if (localStorageTheme !== null)\n    {\n        return localStorageTheme;\n    }\n\n    if (systemSettingDark.matches)\n    {\n        return \"dark\";\n    }\n\n    return \"light\";\n}\n\nlet currentThemeSetting = calcSettingThemeStr({ localStorageTheme: localStorageTheme, systemSettingDark: systemSettingDark });\n\nexport class ThemeSwitcher\n{\n    constructor()\n    {\n        this.initialize();\n    }\n    initialize()\n    {\n        this.updateThemeOnHtml(currentThemeSetting);\n        themeBtn.innerHTML = currentThemeSetting === \"dark\"? lightHtml : darkHtml;\n        themeBtn.addEventListener(\"click\", this.handleToggleEvt.bind(this));\n    }\n   \n    handleToggleEvt()\n    {\n        const newTheme = currentThemeSetting === \"dark\" ? \"light\" : \"dark\";\n        const aria = newTheme === \"dark\" ? \"Change to light theme\" : \"Change to dark theme\";\n        themeBtn.innerHTML = newTheme === \"dark\" ? lightHtml : darkHtml;\n        \n        themeBtn.setAttribute(\"aria-label\", aria);\n        this.updateThemeOnHtml(newTheme);\n\n        localStorage.setItem(\"theme\", newTheme);\n        currentThemeSetting = newTheme;\n    }\n    updateThemeOnHtml(theme){\n        document.querySelector(\"html\").setAttribute(\"data-theme\", theme);\n    }\n}","// extracted by mini-css-extract-plugin\nexport {};"],"names":["content","document","getElementById","searchInput","querySelector","url","countries","HomePage","constructor","backToTopElement","bottom","right","initialize","addEventListener","evt","preventDefault","getData","searchCountry","window","displayButtonOnScroll","addCards","arr","forEach","data","createCard","html","name","toLowerCase","numberWithCommas","population","region","capital","join","flags","insertAdjacentHTML","x","toString","replace","_ref","button","createElement","type","id","innerHTML","style","display","scrollTopEvt","insertAdjacentElement","btn","body","scrollTop","documentElement","dataPromise","fetch","json","sort","a","b","searchInputEvt","filter","value","articles","querySelectorAll","i","length","indexOf","css","ThemeSwitcher","_","navLinks","reset","link","console","log","target","getAttribute","clickedLink","substring","dropdownBtn","homepage","setTimeout","classList","add","scrollBy","top","left","behavior","toggle","darkHtml","lightHtml","themeBtn","localStorageTheme","localStorage","getItem","systemSettingDark","matchMedia","calcSettingThemeStr","matches","currentThemeSetting","updateThemeOnHtml","handleToggleEvt","bind","newTheme","aria","setAttribute","setItem","theme"],"sourceRoot":""}